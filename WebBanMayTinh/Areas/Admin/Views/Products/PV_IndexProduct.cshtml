@model WebBanMayTinh.Models.ViewModel.ProductSearchVM
@using PagedList.Mvc

<style>

    .table > :not(caption) > * > * {
        padding: 0.7rem 1.5rem;
        background-color: var(--bs-table-bg);
        border-bottom-width: 1px;
        box-shadow: inset 0 0 0 9999px var(--bs-table-accent-bg);
    }
</style>



@if (Model.Products != null && Model.Products.Any())
{

    <div class="container_fluid">

        <table class="table">
            <tr>
                <th class="col-1">
                    Tên Sản Phẩm
                </th>



                <th class="col-1">
                    Tình Trạng
                </th>


                <th class="col-1">
                    Giá Cả
                </th>


                <th class="col-2" style="text-align: center;">
                    Hình ảnh Sản Phẩm
                </th>



                <th class="col-2">
                    Danh Mục Sản Phẩm
                </th>


                <th class="col-1">
                    Discount
                </th>


                <th class="col-4">
                    Chức Năng
                </th>
            </tr>



            @foreach (var item in Model.Products)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.ProductName)
                    </td>


                    <td>
                        @Html.DisplayFor(modelItem => item.ProductStatus)
                    </td>


                    <td>
                        @Html.DisplayFor(modelItem => item.ProductPrice)
                    </td>


                    <td>
                        @*@Html.DisplayFor(modelItem => item.ProductImage)  <img  />*@
                        <img src="@item.ProductImage" alt="@item.ProductName" style="width:300px;" />
                    </td>


                    <td>
                        @Html.DisplayFor(modelItem => item.Category.CategoryName)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.DiscountPercentage)
                    </td>

                    <td>
                        @Html.ActionLink("Sửa", "Edit", new { id = item.ProductID }) |
                        @Html.ActionLink("Xóa", "Delete", new { id = item.ProductID }) |
                        @Html.ActionLink("Chi Tiết","Details",new {id = item.ProductID})
                    </td>
                </tr>
            }
        </table>
    </div>



    <div class="d-flex Box_Button_Add">

        @*    Nút tạo thêm product     *@
        <div class="col-1 Btn_AddProduct">
            <p>
                @Html.ActionLink("Thêm Product", "Create")
            </p>
        </div>



        @*Phần hiển thị Phân Trang*@
        @Html.PagedListPager(Model.Products, Page => Url.Action("Index", new
        {

            Page,
            searchTerm = Model.SearchTerm,
            maxprice = Model.Max_Price,
            minprice = Model.Min_Price,
            sortOrder = Model.SortOrder,

        }))
    </div>
}


else
{
    <div class="Error_Message">
        Không tìm thấy sản phẩm
    </div>
}
